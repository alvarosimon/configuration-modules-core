OpenNebula oned template full test
---
multiline
metaconfigservice=/etc/one/oned.conf
---
^AUTH_MAD\s?=\s?\[$
^\s{4}authn\s?=\s?"ssh,x509,ldap,server_cipher,server_x509",$
^\s{4}executable\s?=\s?"one_auth_mad"$
^\]$
^DATASTORE_CAPACITY_CHECK\s?=\s?"yes"$
^DATASTORE_MAD\s?=\s?\[$
^\s{4}arguments\s?=\s?"-t 15 -d dummy,fs,vmfs,lvm,ceph",$
^\s{4}executable\s?=\s?"one_datastore"$
^\]$
^DB\s?=\s?\[$
^\s{4}backend\s?=\s?"mysql",$
^\s{4}db_name\s?=\s?"opennebula",$
^\s{4}passwd\s?=\s?"my-fancy-pass",$
^\s{4}port\s?=\s?0,$
^\s{4}server\s?=\s?"localhost",$
^\s{4}user\s?=\s?"oneadmin"$
^\]$
^DEFAULT_CDROM_DEVICE_PREFIX\s?=\s?"hd"$
^DEFAULT_DEVICE_PREFIX\s?=\s?"vd"$
^DEFAULT_IMAGE_TYPE\s?=\s?"OS"$
^DEFAULT_UMASK\s?=\s?177$
^FEDERATION\s?=\s?\[$
^\s{4}master_oned\s?=\s?"",$
^\s{4}mode\s?=\s?"STANDALONE",$
^\s{4}zone_id\s?=\s?0$
^\]$
^HM_MAD\s?=\s?\[$
^\s{4}executable\s?=\s?"one_hm"$
^\]$
^IM_MAD\s?=\s?\[$
^\s{4}name\s?=\s?"collectd",$
^\s{4}arguments\s?=\s?"-p 4124 -f 5 -t 50 -i 20",$
^\s{4}executable\s?=\s?"collectd"$
^\]$
^IM_MAD\s?=\s?\[$
^\s{4}name\s?=\s?"kvm",$
^\s{4}arguments\s?=\s?"-r 3 -t 15 kvm",$
^\s{4}executable\s?=\s?"one_im_ssh"$
^\]$
^IM_MAD\s?=\s?\[$
^\s{4}name\s?=\s?"xen",$
^\s{4}arguments\s?=\s?"-r 3 -t 15 xen4",$
^\s{4}executable\s?=\s?"one_im_ssh"$
^\]$
^IMAGE_RESTRICTED_ATTR\s?=\s?"SOURCE"$
^INHERIT_DATASTORE_ATTR\s?=\s?"CEPH_HOST"$
^INHERIT_DATASTORE_ATTR\s?=\s?"CEPH_SECRET"$
^INHERIT_DATASTORE_ATTR\s?=\s?"CEPH_USER"$
^INHERIT_DATASTORE_ATTR\s?=\s?"RBD_FORMAT"$
^INHERIT_DATASTORE_ATTR\s?=\s?"GLUSTER_HOST"$
^INHERIT_DATASTORE_ATTR\s?=\s?"GLUSTER_VOLUME"$
^INHERIT_VNET_ATTR\s?=\s?"VLAN_TAGGED_ID"$
^LOG\s?=\s?\[$
^\s{4}debug_level\s?=\s?3,$
^\s{4}system\s?=\s?"file"$
^\]$
^MAC_PREFIX\s?=\s?"02:00"$
^MONITORING_INTERVAL\s?=\s?60$
^MONITORING_THREADS\s?=\s?50$
^NETWORK_SIZE\s?=\s?254$
^ONEGATE_ENDPOINT\s?=\s?"http://hyp004.cubone.os:5030"$
^PORT\s?=\s?2633$
^SCRIPTS_REMOTE_DIR\s?=\s?"/var/tmp/one"$
^SESSION_EXPIRATION_TIME\s?=\s?900$
^TM_MAD\s?=\s?\[$
^\s{4}arguments\s?=\s?"-t 15 -d dummy,lvm,shared,fs_lvm,qcow2,ssh,vmfs,ceph",$
^\s{4}executable\s?=\s?"one_tm"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"SYSTEM",$
^\s{4}ln_target\s?=\s?"NONE",$
^\s{4}name\s?=\s?"dummy",$
^\s{4}shared\s?=\s?"yes"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"SELF",$
^\s{4}ln_target\s?=\s?"NONE",$
^\s{4}name\s?=\s?"lvm",$
^\s{4}shared\s?=\s?"yes"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"SYSTEM",$
^\s{4}ln_target\s?=\s?"NONE",$
^\s{4}name\s?=\s?"shared",$
^\s{4}shared\s?=\s?"yes"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"SYSTEM",$
^\s{4}ln_target\s?=\s?"SYSTEM",$
^\s{4}name\s?=\s?"fs_lvm",$
^\s{4}shared\s?=\s?"yes"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"SYSTEM",$
^\s{4}ln_target\s?=\s?"NONE",$
^\s{4}name\s?=\s?"qcow2",$
^\s{4}shared\s?=\s?"yes"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"SYSTEM",$
^\s{4}ln_target\s?=\s?"SYSTEM",$
^\s{4}name\s?=\s?"ssh",$
^\s{4}shared\s?=\s?"no"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"SYSTEM",$
^\s{4}ln_target\s?=\s?"NONE",$
^\s{4}name\s?=\s?"vmfs",$
^\s{4}shared\s?=\s?"yes"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"SELF",$
^\s{4}ln_target\s?=\s?"NONE",$
^\s{4}name\s?=\s?"ceph",$
^\s{4}shared\s?=\s?"yes"$
^\]$
^VM_MAD\s?=\s?\[$
^\s{4}name\s?=\s?"kvm",$
^\s{4}type\s?=\s?"kvm",$
^\s{4}arguments\s?=\s?"-t 15 -r 0 kvm",$
^\s{4}default\s?=\s?"vmm_exec/vmm_exec_kvm.conf",$
^\s{4}executable\s?=\s?"one_vmm_exec"$
^\]$
^VM_MAD\s?=\s?\[$
^\s{4}name\s?=\s?"xen",$
^\s{4}type\s?=\s?"xen",$
^\s{4}arguments\s?=\s?"-t 15 -r 0 xen4",$
^\s{4}default\s?=\s?"vmm_exec/vmm_exec_xen4.conf",$
^\s{4}executable\s?=\s?"one_vmm_exec"$
^\]$
^VM_RESTRICTED_ATTR\s?=\s?"CONTEXT/FILES"$
^VM_RESTRICTED_ATTR\s?=\s?"NIC/MAC"$
^VM_RESTRICTED_ATTR\s?=\s?"NIC/VLAN_ID"$
^VM_RESTRICTED_ATTR\s?=\s?"NIC/BRIDGE"$
^VNC_BASE_PORT\s?=\s?5900$
